function scrollToChecked(i, t, o) { setTimeout(function () { var o = i.offset().top - t, e = $("body")[0].scrollHeight, n = window.innerHeight; o > e - n && (o = e - n), $("html, body").animate({ scrollTop: o }, 300, function () { $("html, body").unbind("mousewheel DOMMouseScroll") }), $("html, body").bind("mousewheel DOMMouseScroll", function (i) { i.preventDefault() }) }, o) } function scrollToElement(i, t, o, e) { var n = i.offset().top - t, s = $(window).scrollTop(); n > s ? scrollToChecked(i, t, o) : n < s && 1 == e && scrollToChecked(i, t, o) } var Figure = {}; Figure.rtl = !1, Figure.spApps = !1, Figure.messageToChildren = function (t, o) { var e = $(".ms-webpart-chrome iframe"); if (e.length > 0) if (null == o) for (i = 0; i < e.length; i++) e[i].contentWindow.postMessage(t, "*"); else e[o].contentWindow.postMessage(t, "*") }, Figure.messageToParent = function (i, t) { if (null == t) window.parent.postMessage(i, "*"); else { var o = document.referrer.lastIndexOf("/") + 1; document.referrer.substr(o).toLowerCase() == t.toLowerCase() && window.parent.postMessage(i, "*") } }, Figure.jsToChildren = function (i, t) { null == t ? Figure.messageToChildren("Figure.triggerFunction|" + i) : Figure.messageToChildren("Figure.triggerFunction|" + i, t) }, Figure.jsToParent = function (i, t) { null == t ? Figure.messageToParent("Figure.triggerFunction|" + i) : Figure.messageToParent("Figure.triggerFunction|" + i, t) }, Figure.getWindowWidth = function () { var i = Math.max(document.documentElement.clientWidth, window.innerWidth || 0); if (!i) { var t = document.documentElement.getBoundingClientRect(); i = t.right - Math.abs(t.left) } return i }, Figure.getWindowHeight = function () { var i = Math.max(document.documentElement.clientHeight, window.innerHeight || 0); if (!i) { var t = document.documentElement.getBoundingClientRect(); i = t.bottom - Math.abs(t.top) } return i }, Figure.getScreenSize = function () { var i = Figure.getWindowWidth(), t = "small"; return i > 639 && i < 960 ? t = "medium" : i > 959 && i < 1200 ? t = "large" : i > 1199 && (t = "xlarge"), t }, Figure.spAppsMediaQuery = function () { var i = Figure.getScreenSize(); $(".fi-parent-page body").addClass("fi-window-small "), $(".fi-parent-page body").removeClass("fi-window-small-only fi-window-medium fi-window-medium-only fi-window-large fi-window-large-only fi-window-xlarge fi-window-xlarge-only"), "small" == i ? ($(".fi-parent-page body").addClass("fi-window-small-only"), Figure.messageToChildren("Figure.windowWidth|small")) : "medium" == i ? ($(".fi-parent-page body").addClass("fi-window-medium fi-window-medium-only"), Figure.messageToChildren("Figure.windowWidth|medium")) : "large" == i ? ($(".fi-parent-page body").addClass("fi-window-large fi-window-large-only"), Figure.messageToChildren("Figure.windowWidth|large")) : "xlarge" == i && ($(".fi-parent-page body").addClass("fi-window-xlarge fi-window-xlarge-only"), Figure.messageToChildren("Figure.windowWidth|xlarge")) }, Figure.overlayBodyHeight = function (i, t, o, e, n) { if ($(i).length) { $(i).find(o).css("height", "auto"); var s = $(i).find(t).outerHeight(), a = 0; (e = $(i).find(e)).each(function () { a += $(this).outerHeight() }); var r = $(i).find(n).outerHeight() || 0; $(i).find(o).css("height", s - a - r) } }, Figure.matchHeights = function () { $("[data-fi-match-heights]").not("pre *").each(function () { var i = $(this), t = i.outerWidth(), o = i.find($(this).attr("data-fi-match-heights")), e = 0; o.css("height", "auto"), o.each(function () { $(this).outerHeight() > e && (e = $(this).outerHeight()) }), o.each(function () { $(this).parent().is(i) ? $(this).outerWidth() != t ? $(this).css("height", e + "px") : $(this).css("height", "") : $(this).parent().outerWidth() != t ? $(this).css("height", e + "px") : $(this).css("height", "") }) }) }, Figure.checkSticky = function () { if ($("[data-fi-sticky]").length) { var scrollTop = $(window).scrollTop(), windowWidth = Figure.getWindowWidth(), windowHeight = Figure.getWindowHeight(); $("[data-fi-sticky]:visible").each(function () { var sticky = $(this); sticky.parent().is(".fi-sticky-wrapper") || sticky.wrap('<div class="fi-sticky-wrapper"></div>'); var stickyParent = sticky.closest(".fi-sticky-wrapper"), stickyWidth = stickyParent.width(), stickyHeight = sticky.outerHeight(), stickyOffsetTop = sticky.offset().top, stickyOffsetBottom = stickyOffsetTop + stickyHeight, parentOffsetTop = stickyParent.offset().top, stickySettings = { offset: 0, limit: null, limitOffset: 0, minBreakpoint: "large", disableWhenExceedsWindow: !1 }; if (sticky.attr("data-fi-sticky").length) { var userSettings = eval("(" + sticky.attr("data-fi-sticky") + ")"); userSettings.offset && (stickySettings.offset = userSettings.offset), userSettings.limit && (stickySettings.limit = userSettings.limit), userSettings.limitOffset && (stickySettings.limitOffset = userSettings.limitOffset), userSettings.minBreakpoint && (stickySettings.minBreakpoint = userSettings.minBreakpoint), userSettings.disableWhenExceedsWindow && (stickySettings.disableWhenExceedsWindow = userSettings.disableWhenExceedsWindow) } var limitTarget = stickySettings.limit || null, limitTargetOffset = stickySettings.limitOffset || 0, offsetMargin = stickySettings.offset || 0, noSticky = stickySettings.minBreakpoint || "large", disableWhenExceedsWindow = stickySettings.disableWhenExceedsWindow || !1, stickyAllow = !1, stickyAllowBreakPoint = !1, stickyAllowWindowHeight = !1, screenSize = Figure.getScreenSize(); if ("xlarge" == screenSize ? "xlarge" != noSticky && "large" != noSticky && "medium" != noSticky && "small" != noSticky || (stickyAllowBreakPoint = !0) : "large" == screenSize ? "large" != noSticky && "medium" != noSticky && "small" != noSticky || (stickyAllowBreakPoint = !0) : "medium" == screenSize ? "medium" != noSticky && "small" != noSticky || (stickyAllowBreakPoint = !0) : "small" == screenSize && "small" == noSticky && (stickyAllowBreakPoint = !0), disableWhenExceedsWindow ? stickyHeight + offsetMargin < windowHeight && (stickyAllowWindowHeight = !0) : stickyAllowWindowHeight = !0, stickyAllowBreakPoint && stickyAllowWindowHeight && (stickyAllow = !0), stickyAllow) { if (parentOffsetTop <= scrollTop + offsetMargin) if (stickyHeight > windowHeight) { if (scrollTop + windowHeight >= parentOffsetTop + stickyHeight) sticky.addClass("fi-sticky-active").css({ width: stickyWidth, position: "fixed", top: "auto", bottom: 0 }), stickyParent.css({ height: stickyHeight }); else if (scrollTop + offsetMargin + stickyHeight >= stickyOffsetBottom) { var stickyRectTop = this.getBoundingClientRect().top; sticky.addClass("fi-sticky-active").css({ width: stickyWidth, position: "fixed", top: -(scrollTop - stickyOffsetBottom + stickyHeight) - stickyOffsetTop + parentOffsetTop }), stickyParent.css({ height: stickyHeight }) } } else sticky.addClass("fi-sticky-active").css({ width: stickyWidth, position: "fixed", top: offsetMargin + "px" }), stickyParent.css({ height: stickyHeight }); else parentOffsetTop >= scrollTop + offsetMargin && (sticky.removeClass("fi-sticky-active").css({ width: "", position: "", top: "", bottom: "" }), stickyParent.css({ height: "" })); if (void 0 != limitTarget && sticky.closest(limitTarget).length) { limitTarget = sticky.closest(limitTarget); var parentOffsetBottom = limitTarget.offset().top + limitTarget.outerHeight(); scrollTop - parentOffsetBottom + stickyHeight >= 0 - offsetMargin - limitTargetOffset && sticky.css({ top: -(scrollTop - parentOffsetBottom + stickyHeight) - limitTargetOffset, bottom: "" }) } } else sticky.removeClass("fi-sticky-active").css({ width: "", position: "", top: "" }), stickyParent.css({ height: "" }) }) } }, Figure.bodyOverflow = function () { var i = Figure.getWindowWidth(); return document.body.clientWidth < i }, Figure.getScrollbar = function () { var i = $("<div />"); $("body").css("position", "relative").append(i), i.width(50).height(50).css({ overflow: "scroll", visibility: "hidden", position: "absolute", left: 0 }); var t = $("<div />").height(1); i.append(t); var o = t[0].offsetWidth, e = i[0].offsetWidth, n = "right"; return t.offset().left > 0 && (n = "left"), i.remove(), $("body").css("position", ""), { width: e - o, position: n } }, Figure.setBodyPaddingScroll = function () { if (Figure.bodyOverflow()) { var i = Figure.getScrollbar(); if (i.width > 0) { var t = parseInt($("body").css("padding-" + i.position), 10) || 0; $("body").css("padding-" + i.position, t + i.width) } } }, Figure.resetBodyPaddingScroll = function () { $("body").css({ paddingRight: "", paddingLeft: "" }) }, Figure.checkZeroCounts = function () { $(".fi-count").not("pre *").each(function () { var i = $(this); "0" == $.trim(i.text()) ? i.hide() : i.css("display", "") }) }, Figure.showNavBarSubMenu = function (i) { if (!i.is("li.mega-menu-item *")) { var t = i.children("ul"); clearTimeout(Figure.nbWrapTimerOut), clearTimeout(Figure.nbTimerOut), clearTimeout(Figure.nbTimerIn), Figure.nbTimerIn = setTimeout(function () { if ($(".fi-nav-bar ul.fi-root li").not(i).not(i.parents("li")).not(i.find("li")).removeClass("fi-child-open child-visible").children("ul").removeClass("fi-opposite"), t.length && !i.hasClass("fi-child-open")) { i.addClass("fi-child-open"), Figure.hideAllDropdownMenus(); var o = $(window).innerWidth(), e = t.outerWidth(), n = t.offset().left, s = t.parents("ul").length + 1; n < 0 || n + e > o ? s < 4 && t.addClass("fi-opposite") : t.removeClass("fi-opposite"), setTimeout(function () { i.addClass("child-visible") }, 0) } }, 150) } }, Figure.hideNavBarSubMenu = function (i) { if (!i.is("li.mega-menu-item *")) { var t = i.children("ul"); clearTimeout(Figure.nbWrapTimerOut), clearTimeout(Figure.nbTimerOut), clearTimeout(Figure.nbTimerIn), t.length && (Figure.nbTimerOut = setTimeout(function () { i.hasClass("fi-child-open") && (i.removeClass("child-visible"), setTimeout(function () { i.removeClass("fi-child-open"), t.removeClass("fi-opposite") }, 50)) }, 300)) } }, Figure.tap = "ontouchstart" in document.documentElement, Figure.tap ? $(document).on({ click: function () { var i = $(this).parent("li"); i.hasClass("fi-child-open") ? Figure.hideNavBarSubMenu(i) : Figure.showNavBarSubMenu(i) } }, ".fi-nav-bar ul.fi-root li > a, .fi-nav-bar ul.fi-root li > span") : $(document).on({ mouseenter: function () { var i = $(this); Figure.showNavBarSubMenu(i) }, mouseleave: function () { var i = $(this); Figure.hideNavBarSubMenu(i) } }, ".fi-nav-bar ul.fi-root li"), $(document).on({ focus: function () { var i = $(this); Figure.showNavBarSubMenu(i.parent("li")) } }, ".fi-nav-bar ul.fi-root li > a, .fi-nav-bar ul.fi-root li > span"), $(document).on({ mouseleave: function () { Figure.nbWrapTimerOut = setTimeout(function () { $(".fi-nav-bar ul.fi-root li").removeClass("fi-child-open child-visible").children("ul").removeClass("fi-opposite") }, 300) } }, ".fi-nav-bar"), Figure.modalTemplate = '<div class="fi-modal fi-no-click-close">    <div class="fi-modal-outer">        <div class="fi-modal-inner">            <div class="fi-modal-content">                <div class="fi-modal-body"></div>            </div>        </div>    </div></div>', Figure.dialog = function (i, t) { var o, e = { show: function () { clearTimeout(Figure.buttonFocusTimeout), $("[data-fi-focus]").length || $(document.activeElement).attr("data-fi-focus", ""), Figure.hideAllDropdownMenus(), Figure.setBodyPaddingScroll(), (o = $(Figure.modalTemplate)).appendTo("body"), $("body").addClass("fi-modal-open"), Figure.centerNotify(), o.find(".fi-modal-body").append("<p>" + i + "</p>"), o.find(".fi-modal-content").append('<div class="fi-modal-footer fi-buttons-container fi-text-right"><button class="fi-button fi-primary fi-close-dialog">Ok</button></div>'), o.addClass("fi-dialog-modal fi-modal-open"), setTimeout(function () { o.addClass("fi-modal-visible"), o.find(".fi-primary").focus() }, 10), o.find(".fi-close-dialog").on("click", function () { e.hide(t) }) }, hide: function (i) { o.removeClass("fi-modal-visible"), setTimeout(function () { o.remove(), $("body").removeClass("fi-modal-open"), Figure.resetBodyPaddingScroll(), Figure.centerNotify(), i && i() }, 300), Figure.buttonFocusTimeout = setTimeout(function () { $("[data-fi-focus]").focus().removeAttr("data-fi-focus") }, 350) } }; return e.show() }, Figure.hideAllModals = function () { $("body").hasClass("fi-modal-open") && $(".fi-modal:visible").not(".fi-dialog-modal, .fi-confirm-modal").length && ($(".fi-modal:visible").hasClass("fi-dialog-modal") ? ($(".fi-dialog-modal").removeClass("fi-modal-visible"), setTimeout(function () { $(".fi-dialog-modal").remove(), $("body").removeClass("fi-modal-open"), Figure.resetBodyPaddingScroll(), Figure.centerNotify() }, 300), Figure.buttonFocusTimeout = setTimeout(function () { $("[data-fi-focus]").focus().removeAttr("data-fi-focus") }, 350)) : Figure.modal($(".fi-modal:visible")).hide()) }, Figure.confirm = function (i, t, o) { var e, n = { show: function () { clearTimeout(Figure.buttonFocusTimeout), $("[data-fi-focus]").length || $(document.activeElement).attr("data-fi-focus", ""), Figure.hideAllDropdownMenus(), Figure.setBodyPaddingScroll(), (e = $(Figure.modalTemplate)).appendTo("body"), $("body").addClass("fi-modal-open"), Figure.centerNotify(), e.find(".fi-modal-body").append("<p>" + i + "</p>"), e.find(".fi-modal-content").append('<div class="fi-modal-footer fi-buttons-container fi-text-right"><button class="fi-button fi-default fi-cancel-button">Cancel</button> <button class="fi-button fi-primary fi-confirm-button">Ok</button></div>'), e.addClass("fi-confirm-modal fi-modal-open"), setTimeout(function () { e.addClass("fi-modal-visible"), e.find(".fi-confirm-button").focus() }, 10), e.find(".fi-confirm-button").on("click", function () { n.hide(t) }), e.find(".fi-cancel-button").on("click", function () { n.hide(o) }) }, hide: function (i) { e.removeClass("fi-modal-visible"), setTimeout(function () { e.remove(), $("body").removeClass("fi-modal-open"), Figure.resetBodyPaddingScroll(), Figure.centerNotify(), i && i() }, 300), Figure.buttonFocusTimeout = setTimeout(function () { $("[data-fi-focus]").focus().removeAttr("data-fi-focus") }, 350) } }; return n.show() }, $(document).on("click", ".fi-modal .fi-close-button, .fi-close-modal", function () { if (!$(this).is(".fi-dialog-modal, .fi-confirm-modal")) { var i = $(this); $(this).is(".fi-modal") || (i = $(this).closest(".fi-modal")), Figure.modal(i).hide() } }), Figure.modal = function (i, t) { if (!(i = $(i)).length) return e = { show: function () { }, hide: function () { } }; var o = $.extend({ title: null, position: "top", size: "default", fullHeight: !1 }, t), e = { show: function () { clearTimeout(Figure.buttonFocusTimeout), $("[data-fi-focus]").length || $(document.activeElement).attr("data-fi-focus", ""), Figure.hideAllDropdownMenus(), Figure.hideTooltip(), Figure.setBodyPaddingScroll(), i.find(".fi-modal-outer").length || i.find(".fi-modal-content").wrap('<div class="fi-modal-outer"><div class="fi-modal-inner"></div></div>'), ("large" == o.size || i.hasClass("fi-large")) && (o.size = "large", i.addClass("fi-large")), ("full-width" == o.size || i.hasClass("fi-full-width")) && (o.size = "full-width", i.addClass("fi-full-width")), ("center" == o.position || i.hasClass("fi-center")) && (o.position = "center", i.addClass("fi-center")), ("left" == o.position || i.hasClass("fi-left")) && (o.position = "left", i.addClass("fi-left")), ("right" == o.position || i.hasClass("fi-right")) && (o.position = "right", i.addClass("fi-right")), null != o.title && (i.find(".fi-modal-header").length ? i.find(".fi-modal-title").length || i.find(".fi-modal-header").append('<h3 class="fi-modal-title"></h3>') : i.find(".fi-modal-content").prepend('<div class="fi-modal-header"><button class="fi-close-button"></button> <h3 class="fi-modal-title"></h3></div>'), i.find(".fi-modal-title").html(o.title)), (1 == o.fullHeight || i.hasClass("fi-full-height")) && (o.fullHeight = !0, i.addClass("fi-full-height")), "left" != o.position && "right" != o.position || (o.fullHeight = !1, i.removeClass("fi-full-height")), $("body").addClass("fi-modal-open"), Figure.centerNotify(), i.addClass("fi-modal-open"), i.trigger("fi-modal:show"), setTimeout(function () { "left" != o.position && "right" != o.position && 1 != o.fullHeight || Figure.overlayBodyHeight(i, ".fi-modal-content", ".fi-modal-body", ".fi-modal-header", ".fi-modal-footer"), i.addClass("fi-modal-visible"), setTimeout(function () { i.trigger("fi-modal:shown") }, 10) }, 10) }, hide: function () { i.removeClass("fi-modal-visible"), i.trigger("fi-modal:hide"), setTimeout(function () { i.removeClass("fi-modal-open"), i.find(".fi-modal-body").css({ height: "" }), $("body").removeClass("fi-modal-open"), Figure.resetBodyPaddingScroll(), Figure.centerNotify(), i.trigger("fi-modal:hidden") }, 300), Figure.buttonFocusTimeout = setTimeout(function () { $("[data-fi-focus]").focus().removeAttr("data-fi-focus") }, 350) } }; return e }, $(document).on("fi-modal:shown", ".fi-modal", function () { $(this).find("[data-fi-focus-start]").focus() }), $(document).on("keydown", function (i) { if (9 === i.which && $(".fi-modal.fi-modal-visible, .fi-dropdown.fi-mobile-dropdown-visible").length) { var t = $(".fi-modal.fi-modal-visible, .fi-dropdown.fi-mobile-dropdown-visible").find('select, input, textarea, button, a, [tabindex="0"]').filter(":visible"); t.is(":focus") || (i.preventDefault(), i.shiftKey ? t.last().focus() : t.first().focus()) } }), $(document).on("keydown", ".fi-modal, .fi-mobile-dropdown-overlay", function (i) { var t = $(this).find('select, input, textarea, button, a, [tabindex="0"]').filter(":visible"); $(":focus").is(t.last()) ? 9 !== i.which || i.shiftKey || (i.preventDefault(), t.first().focus()) : $(":focus").is(t.first()) && 9 === i.which && i.shiftKey && (i.preventDefault(), t.last().focus()) }), Figure.centerNotify = function () { $(".fi-notify-wrapper.fi-top, .fi-notify-wrapper.fi-bottom").each(function () { var i = $(this), t = i.outerWidth(); $("body").hasClass("fi-modal-open") || $("body").hasClass("fi-mobile-dropdown-open") ? Figure.rtl ? i.css("margin-right", -t / 2 - Figure.getScrollbar().width / 2) : i.css("margin-left", -t / 2 - Figure.getScrollbar().width / 2) : Figure.rtl ? i.css("margin-right", t / 2) : i.css("margin-left", -t / 2) }), $(".fi-notify-wrapper.fi-top-left, .fi-notify-wrapper.fi-bottom-left").each(function () { var i = $(this); $("body").hasClass("fi-modal-open") || $("body").hasClass("fi-mobile-dropdown-open") ? Figure.rtl && i.css("margin-right", Figure.getScrollbar().width) : i.css("margin-right", "") }), $(".fi-notify-wrapper.fi-top-right, .fi-notify-wrapper.fi-bottom-right").each(function () { var i = $(this); $("body").hasClass("fi-modal-open") || $("body").hasClass("fi-mobile-dropdown-open") ? Figure.rtl || i.css("margin-right", Figure.getScrollbar().width) : i.css("margin-right", "") }) }, Figure.showNotify = function (i, t) { var o = $(i).outerHeight(), e = parseInt($(i).css("margin-bottom"), 10), n = $(i).closest(".fi-notify-wrapper"); n.hasClass("fi-bottom") || n.hasClass("fi-bottom-left") || n.hasClass("fi-bottom-right") ? ($(i).css({ marginBottom: -o, position: "", visibility: "visible" }), $(i).show().animate({ marginBottom: e, opacity: 1 }, 300)) : ($(i).css({ marginTop: -o - e, position: "", visibility: "visible" }), $(i).show().animate({ marginTop: 0, opacity: 1 }, 300)), Figure.centerNotify() }, Figure.hideNotify = function (i) { if ($(i).length) { var t = $(i).outerHeight(), o = parseInt($(i).css("margin-bottom"), 10), e = $(i).closest(".fi-notify-wrapper"); e.hasClass("fi-bottom") || e.hasClass("fi-bottom-left") || e.hasClass("fi-bottom-right") ? $(i).animate({ marginBottom: -t, opacity: 0 }, 350, function () { $(i).remove(), 0 == e.find(".fi-notify").length && e.remove() }) : $(i).animate({ marginTop: -t - o, opacity: 0 }, 350, function () { $(i).remove(), 0 == e.find(".fi-notify").length && e.remove() }) } }, Figure.notifyIndex = 0, Figure.notify = function (i, t) { function o() { e = setTimeout(function () { Figure.hideNotify('.fi-notify-wrapper .fi-notify[data-fi-notifyid="' + a + '"]') }, n.timeout) } var e, n = $.extend({ state: "default", position: "top", autoHide: !0, timeout: 5e3 }, t); if (0 == $(".fi-notify-wrapper.fi-" + n.position).length) { $("body").append('<div class="fi-notify-wrapper fi-' + n.position + '"></div>'); var s = $(".fi-notify-wrapper.fi-" + n.position); "top" == n.position || "top-left" == n.position || "top-right" == n.position ? s.prepend('<div class="fi-notify fi-' + n.state + '" data-fi-notifyid="' + Figure.notifyIndex + '" style="position: absolute; visibility: hidden; opacity: 0;"><button class="fi-close-button"></button>' + i + "</div>") : s.append('<div class="fi-notify fi-' + n.state + '" data-fi-notifyid="' + Figure.notifyIndex + '" style="position: absolute; visibility: hidden; opacity: 0;"><button class="fi-close-button"></button>' + i + "</div>") } else (s = $(".fi-notify-wrapper.fi-" + n.position)).hasClass("fi-top") || s.hasClass("fi-top-left") || s.hasClass("fi-top-right") ? s.prepend('<div class="fi-notify fi-' + n.state + '" data-fi-notifyid="' + Figure.notifyIndex + '" style="position: absolute; visibility: hidden; opacity: 0;"><button class="fi-close-button"></button>' + i + "</div>") : s.append('<div class="fi-notify fi-' + n.state + '" data-fi-notifyid="' + Figure.notifyIndex + '" style="position: absolute; visibility: hidden; opacity: 0;"><button class="fi-close-button"></button>' + i + "</div>"); Figure.showNotify('.fi-notify-wrapper .fi-notify[data-fi-notifyid="' + Figure.notifyIndex + '"]', n.position); var a = Figure.notifyIndex; 1 == n.autoHide && (o(), $('.fi-notify-wrapper .fi-notify[data-fi-notifyid="' + a + '"]').hover(function () { clearInterval(e) }, function () { o() })), Figure.notifyIndex++ }, Figure.accordion = function () { $(".fi-accordion, .fi-nav-accordion").not(".fi-handled, pre *").each(function () { var i = $(this), t = i.children("ul").children("li:first-child"), o = i.attr("data-fi-state"); void 0 == o && (o = i.is(".fi-nav-accordion") ? "close" : "default"), "default" == o ? i.is(".fi-accordion") ? t.closest("li").addClass("fi-child-open").children(".fi-accordion-content").show() : i.is(".fi-nav-accordion") && t.closest("li").hasClass("fi-has-child") && t.closest("li").addClass("fi-child-open").children("ul").show() : "open" == o ? (i.find(".fi-accordion-trigger, li.fi-has-child > a, li.fi-has-child > span").closest("li").addClass("fi-child-open"), i.find(".fi-accordion-content, li.fi-has-child > ul").show()) : "close" == o && i.find(".fi-accordion-content, li.fi-has-child > ul").hide(), i.addClass("fi-handled") }) }, Figure.showTooltipTimeout, Figure.hideTooltipTimeout, Figure.tap || $(document).on("mouseenter", "[data-fi-tooltip]", function (i) { var t = $(this), o = t.attr("data-fi-delay"); void 0 != o ? Figure.showTooltipTimeout = setTimeout(function () { Figure.showTooltip(t) }, parseInt(o, 10)) : Figure.showTooltip(t) }), Figure.hideTooltip = function (i) { void 0 == i && (i = "[data-fi-tooltip]"), (i = $(i)).length && (i.trigger("fi-tooltip:hide"), $("body > .fi-tooltip").removeClass("fi-tooltip-visible"), i.removeClass("fi-tooltip-visible"), Figure.hideTooltipTimeout = setTimeout(function () { $("body > .fi-tooltip").removeClass("fi-tooltip-active"), i.removeClass("fi-tooltip-active"), i.trigger("fi-tooltip:hidden") }, 150)) }, $(document).on("mouseleave", "[data-fi-tooltip]", function () { var i = $(this); clearTimeout(Figure.showTooltipTimeout), Figure.hideTooltip(i) }), $(document).on("mouseover", ".fi-tooltip", function () { }), Figure.showTooltip = function (i) { if ((i = $(i)).length && !i.is(".fi-dropdown-open .fi-dropdown-trigger, .fi-tooltip-active, [data-fi-focus]")) { clearTimeout(Figure.showTooltipTimeout), $(".fi-tooltip-active").not(i).removeClass(" fi-tooltip-active fi-tooltip-visible"), i.addClass("fi-tooltip-active"), i.trigger("fi-tooltip:show"), 0 == $("body > .fi-tooltip").length && $("body").append('<div class="fi-tooltip" role="tooltip" style="display: none;"><div></div><span></span></div>'), void 0 != $(this).attr("title") && $(this).attr("title", ""); var t, o, e, n, s, a, r, d, l, f, c, u, g, h, p, m, w, v, b, y, F, C, k = $("body > .fi-tooltip"), T = k.children("span"); !function () { function S() { k.addClass("fi-north"), k.css({ top: w, left: l, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: "auto", bottom: -m, left: arrowCenterCalc, right: "auto", marginLeft: 0, marginRight: 0 }) } function x() { k.addClass("fi-north"), k.css({ top: w, left: C, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: "auto", bottom: -m, left: "auto", right: arrowCenterCalc, marginLeft: 0, marginRight: 0 }) } function H() { k.addClass("fi-north"), k.css({ top: w, left: y, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: "auto", bottom: -m, left: c - p, right: "auto", marginLeft: 0, marginRight: 0 }) } function M() { k.addClass("fi-south"), k.css({ top: b, left: l, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: -m, bottom: "auto", left: arrowCenterCalc, right: "auto", marginLeft: 0, marginRight: 0 }) } function W() { k.addClass("fi-south"), k.css({ top: b, left: C, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: -m, bottom: "auto", left: "auto", right: arrowCenterCalc, marginLeft: 0, marginRight: 0 }) } function B() { k.addClass("fi-west"), k.css({ top: v, left: F, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: g - m, bottom: "auto", left: "auto", right: -p, marginLeft: 0, marginRight: 0 }) } function O() { k.addClass("fi-east"), k.css({ top: v, left: l + n + p + e, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: g - m, bottom: "auto", left: -p, right: "auto", marginLeft: 0, marginRight: 0 }) } t = $.trim(i.attr("data-fi-tooltip")), o = i.attr("data-fi-position"), e = i.attr("data-fi-offset"), e = void 0 == e ? 0 : parseInt(e, 10), k.children("div").html(t), k.removeClass("fi-north fi-south fi-east fi-west").show(), n = i.outerWidth(), s = n / 2, a = i.outerHeight(), r = a / 2, d = i.offset().top, l = i.offset().left, f = k.outerWidth(), c = f / 2, u = k.outerHeight(), g = u / 2, h = T.outerWidth(), p = h / 2, m = T.outerHeight() / 2, arrowCenterCalc = s - p - 1, arrowCenterCalc > h ? arrowCenterCalc = h : arrowCenterCalc < p / 2 && (arrowCenterCalc = p / 2), w = d - (u + m + e), v = d + r - g, b = d + a + m + e, y = l + s - c, F = l - f - p - e, C = l - (f - n), "top" == o ? H() : "top-left" == o ? Figure.rtl ? x() : S() : "top-right" == o ? Figure.rtl ? S() : x() : "bottom" == o ? (k.addClass("fi-south"), k.css({ top: b, left: y, right: "auto", bottom: "auto", marginLeft: 0, marginRight: 0 }), T.css({ top: -m, bottom: "auto", left: c - p, right: "auto", marginLeft: 0, marginRight: 0 })) : "bottom-left" == o ? Figure.rtl ? W() : M() : "bottom-right" == o ? Figure.rtl ? M() : W() : "left" == o ? Figure.rtl ? O() : B() : "right" == o ? Figure.rtl ? B() : O() : H(), i.addClass("fi-tooltip-visible"), k.addClass("fi-tooltip-visible"), i.trigger("fi-tooltip:shown") }() } }, Figure.autoSizeTextarea = function (i) { var t = i.offsetHeight - i.clientHeight; $(i).css("height", "auto").css("height", i.scrollHeight + t) }, $(document).on("keyup input", "textarea.fi-auto-resize", function () { Figure.autoSizeTextarea(this) }), Figure.processNewContent = function (i) { Figure.matchHeights(), $(".fi-nav, .fi-nav-bar").each(function () { var i = $(this); i.find(".fi-root").length ? i.find(".fi-root").is("ul:first") || (i.find(".fi-root").removeClass("fi-root"), i.find("ul:first").addClass("fi-root")) : i.find("ul:first").addClass("fi-root") }), $(".fi-nav-accordion li, .fi-nav-bar li").each(function () { var i = $(this); i.children("ul").length > 0 ? i.addClass("fi-has-child") : i.removeClass("fi-has-child") }), Figure.accordion(), "function" != typeof FigureTruncate || i || FigureTruncate($(".truncate")), Figure.checkZeroCounts(), Figure.checkSticky(), $("select.fi-custom-dropdown").not(".fi-handled, pre *").each(function () { var i = $(this), t = $(this).find("option"); i.after('<div class="fi-dropdown fi-custom-dropdown fi-highlight-selected">            <button class="fi-button fi-default fi-dropdown-trigger">                <span class="fi-dropdown-title"></span>                <i class="fa fa-caret-down"></i>            </button>            <div class="fi-dropdown-content">                <ul>                </ul>            </div>        </div>'); var o = i.next(".fi-dropdown"), e = i.find("option:selected").text(); o.find(".fi-dropdown-title").text(e), t.each(function () { var i = $(this).text(); o.find(".fi-dropdown-content > ul").append('<li><a href="#">' + i + "</a></li>") }), i.addClass("fi-handled") }), Figure.updateCustomDropdowns(), $(".fi-nav-bar li.fi-has-child > span, .fi-nav-accordion li.fi-has-child > span, .fi-accordion .fi-accordion-trigger, .fi-tabs .fi-tab-button, [data-fi-tooltip]").not("pre *, a, button, input").attr("tabindex", "0"), $(".fi-tabs").not(".fi-handled, pre *").each(function () { var i = $(this).find(".fi-tab-active").length; if (0 == i || i > 1) { var t = $(this).children("ul").children("li:first"), o = $(t.attr("data-fi-tab")); t.addClass("fi-tab-active").siblings().removeClass("fi-tab-active"), o.addClass("fi-tab-active").siblings(".fi-tab-content").removeClass("fi-tab-active") } else { var e = $(this).children("ul").children("li.fi-tab-active"); $(e.attr("data-fi-tab")).addClass("fi-tab-active") } $(this).addClass("fi-handled") }), $(".fi-dropdown.fi-highlight-selected").not(".fi-handled, pre *").each(function () { 0 == $(this).find(".fi-dropdown-content li.fi-dropdown-active").length && $(this).find(".fi-dropdown-content li:first").addClass("fi-dropdown-active"); var i = $(this).find("li.fi-dropdown-active > *").html(); $(this).find(".fi-dropdown-content li.fi-dropdown-active").addClass("fi-dropdown-active").siblings("li").removeClass("fi-dropdown-active"), $(this).find(".fi-dropdown-title").html(i), $(this).addClass("fi-handled") }), $("[data-fi-confirm]").not(".fi-handled, pre *").each(function () { var i = $(this).attr("onclick"); $(this).attr("onclick", "return false;").attr("data-fi-onclick", i), $(this).addClass("fi-handled") }), $(".fi-poll.fi-show-results").not(".fi-handled, pre *").each(function () { Figure.showPollResults($(this)), $(this).addClass("fi-handled") }) }, Figure.hideOtherPagesElements = function () { Figure.spApps && ($("html").hasClass("fi-parent-page") ? Figure.messageToChildren("Figure.hideOtherPagesElements") : $("html").hasClass("fi-child-page") && Figure.messageToParent("Figure.hideOtherPagesElements")) }, Figure.hideAllDropdownMenus = function () { $(".fi-dropdown.fi-dropdown-open").length && Figure.toggleDropdown(".fi-dropdown-open") }, Figure.updateCustomDropdowns = function () { $("div.fi-custom-dropdown").each(function () { var i = $(this), t = i.prev("select.fi-custom-dropdown").find("option"); i.find(".fi-dropdown-content > ul").empty(), t.each(function () { var t = $(this).text(); i.find(".fi-dropdown-content > ul").append('<li><a href="#">' + t + "</a></li>") }) }) }, Figure.showPollResults = function (i) { void 0 == i && (i = ".fi-poll"); var t = (i = $(i).not(".fi-results-open")).find(".fi-poll-answers"), o = i.find(".fi-poll-results"), e = 0; o.find(".fi-progress").each(function () { var i = $(this).attr("data-fi-count"); e += parseFloat(i) }), i.find(".fi-total-votes").text(e), t.hide(), o.show(), i.addClass("fi-results-open"), o.find(".fi-progress").each(function () { var i = $(this), t = parseFloat(i.attr("data-fi-count")), o = t / e * 100, n = Math.round(10 * o) / 10 + "%"; i.append('<div class="fi-progress-bar fi-percent-bar">' + n + '</div><div class="fi-progress-bar fi-count-bar"></div>'), 0 == t && i.find(".fi-count-bar").hide(), setTimeout(function () { i.find(".fi-count-bar").css({ width: n }) }, 10), i.css("visibility", "visible").addClass("fi-handled"), setTimeout(function () { i.find(".fi-count-bar").text(t) }, 500) }) }, Figure.hidePollResults = function (i) { if (void 0 == i && (i = ".fi-poll"), (i = $(i)).hasClass("fi-results-open")) { var t = i.find(".fi-poll-answers"), o = i.find(".fi-poll-results"); t.show(), o.hide().find(".fi-progress").html("").css({ visibility: "" }), i.find(".fi-total-votes").text(""), i.removeClass("fi-results-open") } }, Figure.showMobileDropdown = function (i, t) { if (t.wrap('<div class="fi-mobile-dropdown-overlay"></div>'), Figure.setBodyPaddingScroll(), $("body").addClass("fi-mobile-dropdown-open"), Figure.centerNotify(), i.hasClass("fi-highlight-selected") || i.hasClass("fi-custom-dropdown")) void 0 != (o = i.attr("data-fi-dropdown-title")) && t.prepend('<div class="fi-dropdown-header fi-mobile-dropdown-only"><button class="fi-close-button"></button><div class="fi-dropdown-title">' + o + "</div></div>"); else { var o = i.attr("data-fi-dropdown-title"); if (void 0 != o) t.prepend('<div class="fi-dropdown-header fi-mobile-dropdown-only"><button class="fi-close-button"></button><div class="fi-dropdown-title">' + o + "</div></div>"); else { var e = i.find(".fi-dropdown-title").html(); void 0 != e && e.length && !i.find(".fi-dropdown-header").length && t.prepend('<div class="fi-dropdown-header fi-mobile-dropdown-only"><button class="fi-close-button"></button><div class="fi-dropdown-title">' + e + "</div></div>") } } t.find(".fi-dropdown-header .fi-close-button").length || t.find(".fi-dropdown-header").prepend('<button class="fi-close-button fi-mobile-dropdown-only"></button>') }, Figure.hideMobileDropdown = function (i) { i.removeClass("fi-mobile-dropdown-visible"), setTimeout(function () { var t = i.find(".fi-mobile-dropdown-overlay > .fi-dropdown-content"); i.removeClass("fi-dropdown-open fi-mobile-dropdown-open"), t.unwrap().find(".fi-mobile-dropdown-only").remove(), t.find(".fi-dropdown-body").css({ height: "" }), $("body").removeClass("fi-mobile-dropdown-open"), Figure.resetBodyPaddingScroll(), Figure.centerNotify() }, 250) }, Figure.toggleDropdown = function (i) { if ((i = $(i)).length) { var t = i.find(".fi-dropdown-trigger"), o = i.children(".fi-dropdown-content") || i.find(".fi-mobile-dropdown-overlay > .fi-dropdown-content"), e = i.attr("data-fi-mobile-dropdown"); if ($(".fi-dropdown").not(i).not(i.parents(".fi-dropdown")).removeClass("fi-dropdown-open"), Figure.hideOtherPagesElements(), i.hasClass("fi-dropdown-open")) i.trigger("fi-dropdown:hide", [t, o]), i.find(".fi-mobile-dropdown-overlay").length ? Figure.hideMobileDropdown(i) : i.removeClass("fi-dropdown-open"), i.trigger("fi-dropdown:hidden", [t, o]); else { if (void 0 != e && !i.is(".fi-child-page *")) { var n = Figure.getScreenSize(); "all" == e ? Figure.showMobileDropdown(i, o) : "large" == e && "large" == n ? Figure.showMobileDropdown(i, o) : "medium" == e && "medium" == n ? Figure.showMobileDropdown(i, o) : "small" == e && "small" == n ? Figure.showMobileDropdown(i, o) : "small" == n && Figure.showMobileDropdown(i, o) } i.trigger("fi-dropdown:show", [t, o]), i.addClass("fi-dropdown-open"), i.find(".fi-mobile-dropdown-overlay").length && (i.addClass("fi-mobile-dropdown-open"), Figure.overlayBodyHeight(i, o, ".fi-dropdown-body", ".fi-dropdown-header", ".fi-dropdown-footer"), setTimeout(function () { i.addClass("fi-mobile-dropdown-visible") }, 10)), i.trigger("fi-dropdown:shown", [i.find(".fi-dropdown-trigger"), o]), o.find(".image-handler").trigger("rehandle"), "function" == typeof FigureTruncate && FigureTruncate(o.find(".truncate")) } } }, $(document).on("fi-dropdown:shown", ".fi-dropdown", function () { $(this).find("[data-fi-focus-start]").focus() }), Figure.noClickElements = "    .fi-no-click,    .prevent-default,    .fi-tab-button,    .fi-accordion-trigger,    .fi-nav-accordion li.fi-has-child > a,    .fi-expand-accordion,    .fi-collapse-accordion,    .fi-dropdown .fi-dropdown-trigger,    .fi-highlight-selected .fi-dropdown-content li,    .fi-custom-dropdown a,    .fi-close-button,    .fi-close-modal,    .fi-view-results,    .fi-poll .fi-back-button,    .truncate-revert,    [data-fi-dialog],    [data-fi-confirm],    [data-fi-modal],    [data-off-canvas],    .owl-nav a", $(document).on("click", Figure.noClickElements, function (i) { i.preventDefault() }), Figure.toggleAccordion = function (i, t) { if ((i = $(i)).length) { var o; i.is(".fi-accordion *") ? o = i.siblings(".fi-accordion-trigger") : i.is(".fi-nav-accordion *") && (o = i.siblings("li.fi-has-child > span")); var e = i.closest(".fi-accordion, .fi-nav-accordion"), n = e.attr("data-fi-multiple"); n = "true" == n; var s = e.attr("data-fi-scroll"); if (s = "true" == s, i.closest("li").hasClass("fi-child-open") || "collapse" == t) i.closest("li").removeClass("fi-child-open"), i.trigger("fi-accordion:hide"), i.slideUp(300), setTimeout(function () { i.trigger("fi-accordion:hidden") }, 300); else if (!i.closest("li").hasClass("fi-child-open") || "expand" == t) { if (i.closest("li").addClass("fi-child-open"), i.trigger("fi-accordion:show"), i.slideDown(300), setTimeout(function () { i.trigger("fi-accordion:shown"), i.find(".image-handler").trigger("rehandle"), "function" == typeof FigureTruncate && FigureTruncate(i.find(".truncate")), Figure.checkSticky() }, 300), !n) { var a = i.closest("li").siblings(".fi-child-open").children(".fi-accordion-content, li.fi-has-child > ul"); i.closest("li").siblings().removeClass("fi-child-open"), a.trigger("fi-accordion:hide"), a.slideUp(300), setTimeout(function () { a.trigger("fi-accordion:hidden") }, 300) } s && ($("html, body").bind("mousewheel DOMMouseScroll", function (i) { i.preventDefault() }), setTimeout(function () { var i = o.offset().top - 100, t = $("body")[0].scrollHeight, e = window.innerHeight; i > t - e && (i = t - e), $("html, body").animate({ scrollTop: i }, 300, function () { $("html, body").unbind("mousewheel DOMMouseScroll") }) }, 350)) } } }, $(document).on("click", ".fi-accordion-trigger, .fi-nav-accordion li.fi-has-child > a, .fi-nav-accordion li.fi-has-child > span", function () { var i, t = $(this); t.is(".fi-accordion *") ? i = t.siblings(".fi-accordion-content") : t.is(".fi-nav-accordion *") && (i = t.siblings("ul")), Figure.toggleAccordion(i) }), $(document).on("click", ".fi-expand-accordion", function () { var i = $(this).attr("data-fi-accordion"), t = $(i).attr("data-fi-multiple"); (t = "true" == t) && Figure.toggleAccordion($(i).find(".fi-accordion-content"), "expand") }), $(document).on("click", ".fi-collapse-accordion", function () { var i = $(this).attr("data-fi-accordion"); Figure.toggleAccordion($(i).find(".fi-accordion-content"), "collapse") }), $(document).on("click", ".fi-alert .fi-close-button", function () { $(this).closest(".fi-alert").remove() }), $(document).on("touchstart", function () { Figure.documentClick = !0 }), $(document).on("touchmove", function () { Figure.documentClick = !1 }), $(document).on("click touchend", function (i) { "click" == i.type && (Figure.documentClick = !0), Figure.documentClick && $(this).trigger("documentClick", [i]) }), $(document).on("documentClick", function (i, t) { $(t.target).closest(".side-panel").length && (Figure.documentClick = !1), $(t.target).closest(".fi-dropdown-trigger, .fi-dropdown-content, .fi-dropdown-arrow").length || (Figure.hideAllDropdownMenus(), Figure.hideOtherPagesElements()), $(t.target).closest(".fi-dropdown").find(".fi-dropdown-open").length && Figure.toggleDropdown($(t.target).closest(".fi-dropdown").find(".fi-dropdown")), $(t.target).closest(".fi-nav-bar ul.fi-root li").length || Figure.hideNavBarSubMenu($(".fi-nav-bar ul.fi-root li.fi-child-open")), $(t.target).closest(".fi-modal-content, .fi-no-click-close").length || Figure.modal($(t.target).closest(".fi-modal")).hide() }), $(document).on("click", ".fi-dropdown-header .fi-close-button", function () { Figure.toggleDropdown($(this).closest(".fi-dropdown")) }), $(document).on("click", ".fi-dropdown > .fi-dropdown-trigger", function () { Figure.hideTooltip(); var i = $(this).closest(".fi-dropdown"); Figure.toggleDropdown(i) }), $(document).on("click", "[data-fi-tooltip]", function () { Figure.hideTooltip() }), Figure.showTab = function (i) { if ((i = $(i)).length) { var t = $(i.attr("data-fi-tab")); if (t.length) { var o = t.closest(".fi-tabs-content-wrapper"), e = o.children(".fi-tab-active"); i.find(".fi-tab-button").text(); i.hasClass("fi-tab-active") || (e.trigger("fi-tab:hide"), o.hasClass("fi-no-fade") ? (e.trigger("fi-tab:hidden"), o.find(".fi-tab-content").removeClass("fi-tab-active"), t.addClass("fi-tab-active"), t.trigger("fi-tab:show", [i, e]), t.trigger("fi-tab:shown", [i, e]), t.find(".image-handler").trigger("rehandle"), "function" == typeof FigureTruncate && FigureTruncate(t.find(".truncate"))) : e.finish().animate({ opacity: 0 }, 200, function () { e.trigger("fi-tab:hidden"), e.css("opacity", "").removeClass("fi-tab-active"), t.css({ opacity: 0 }).addClass("fi-tab-active"), t.trigger("fi-tab:show", [i, e]), t.find(".image-handler").trigger("rehandle"), "function" == typeof FigureTruncate && FigureTruncate(t.find(".truncate")), t.finish().animate({ opacity: 1 }, 200, function () { t.trigger("fi-tab:shown", [i, e]), t.css("opacity", "") }) }), i.addClass("fi-tab-active").siblings().removeClass("fi-tab-active")) } } }, $(document).on("click", ".fi-tabs > ul > li", function () { Figure.showTab($(this)) }), $(document).on("fi-tab:show", ".fi-mobile-dropdown-overlay .fi-tab-content", function () { Figure.overlayBodyHeight($(".fi-mobile-dropdown-visible"), ".fi-dropdown-content", ".fi-dropdown-body", ".fi-dropdown-header", ".fi-dropdown-footer") }), $(document).on("click", ".fi-highlight-selected .fi-dropdown-content li", function () { var i = $(this).children().html(); $(this).closest(".fi-dropdown").find(".fi-dropdown-trigger .fi-dropdown-title").html(i), $(this).addClass("fi-dropdown-active").siblings("li").removeClass("fi-dropdown-active"), $(this).is(".fi-disabled, .fi-no-click") || (Figure.hideAllDropdownMenus(), Figure.hideOtherPagesElements()), $(this).closest(".fi-dropdown").find(".fi-dropdown-trigger").focus() }), $(document).on("click", ".fi-custom-dropdown a", function () { var i = $(this).closest(".fi-custom-dropdown").siblings("select.fi-custom-dropdown"), t = $(this).closest("li").index(); i.find("option").eq(t).prop("selected", !0) }), $(document).on("click", ".fi-notify", function () { var i = $(this).closest(".fi-notify").attr("data-fi-notifyid"); Figure.hideNotify('.fi-notify-wrapper .fi-notify[data-fi-notifyid="' + i + '"]') }), $(document).on("click", "[data-fi-dialog]", function () { var i = $(this).attr("data-fi-dialog"); Figure.dialog(i) }), $(document).on("click", "[data-fi-confirm]", function () { var i = $(this).attr("data-fi-confirm"), t = new Function($(this).attr("data-fi-onclick")); Figure.confirm(i, t) }), $(document).on("click", "[data-fi-modal]", function () { var i = $(this).attr("data-fi-modal"), t = $(this).attr("data-fi-modal-title"), o = null; void 0 != t && t.length && (o = t), Figure.modal(i, { title: o }).show() }), $(document).on("click", ".fi-view-results", function () { Figure.showPollResults($(this).closest(".fi-poll")) }), $(document).on("click", ".fi-poll .fi-back-button", function () { Figure.hidePollResults($(this).closest(".fi-poll")) }), $(document).on("click", ".truncate-revert", function () { var i = $(this); "function" == typeof FigureTruncate && i.closest(".truncate").trunk8("revert").removeClass("truncate").css({ float: "", position: "" }) }), Figure.getQueryString = function (i) { var t, o, e = []; o = null == i ? window.location.href.slice(window.location.href.indexOf("?") + 1).split("&") : i.slice(i.indexOf("?") + 1).split("&"); for (var n = 0; n < o.length; n++) t = o[n].split("="), e.push(t[0]), e[t[0]] = t[1]; return e }, $(document).keyup(function (i) { 13 == i.keyCode ? $(".fi-nav-accordion .fi-has-child span:focus").trigger("click") : 27 == i.keyCode && (Figure.hideNotify(".fi-notify"), Figure.hideAllModals(), Figure.hideAllDropdownMenus(), Figure.hideOtherPagesElements()) }), $(document).on("focus", "[data-fi-tooltip]", function () { $(this).is(".fi-tooltip-active") || $(this).is(":hover") || Figure.showTooltip($(this)) }), $(document).on("blur", "[data-fi-tooltip]", function () { $(this).is(".fi-tooltip-active") && Figure.hideTooltip($(this)) }), $(document).ready(function () { void 0 != $("body").attr("data-fi-spapps") && (Figure.spApps = !0, Figure.spAppsMediaQuery()), "rtl" != $("html").attr("dir") && "rtl" != $("html").css("direction") && "rtl" != $("body").css("direction") || (Figure.rtl = !0), Figure.processNewContent(!0), $(document).on("mousewheel DOMMouseScroll", ".fi-dropdown-body", function (i) { if (this.scrollHeight > this.offsetHeight) { var t = (i.originalEvent.wheelDelta || -i.originalEvent.detail) > 0 ? "up" : "down"; ("up" == t && 0 == this.scrollTop || "down" == t && Math.round(this.scrollTop) == this.scrollHeight - this.offsetHeight) && i.preventDefault() } }) }), $(window).resize(function () { Figure.spApps && Figure.spAppsMediaQuery(), Figure.matchHeights(), Figure.overlayBodyHeight($(".fi-mobile-dropdown-visible"), ".fi-dropdown-content", ".fi-dropdown-body", ".fi-dropdown-header", ".fi-dropdown-footer"), Figure.overlayBodyHeight(".fi-modal.fi-left.fi-modal-open, .fi-modal.fi-right.fi-modal-open, .fi-modal.fi-full-height.fi-modal-open", ".fi-modal-content", ".fi-modal-body", ".fi-modal-header", ".fi-modal-footer"), Figure.centerNotify(), $("textarea.fi-auto-resize").each(function () { Figure.autoSizeTextarea(this) }) }), $(window).bind("scroll resize", function () { Figure.checkSticky() });